
import { useState, useEffect } from 'react';
import { Link, useLocation } from 'react-router-dom';
const Header = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isScrolled, setIsScrolled] = useState(false);
  const [activeLink, setActiveLink] = useState('/');

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 20);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  const closeMenu = () => {
    setIsMenuOpen(false);
  };

  const navLinks = [
    { path: '/', label: 'Home' },
    { path: '/about', label: 'About' },
    { path: '/services', label: 'Services' },
    { path: '/faq', label: 'FAQs' }
  ];

  return (
    <header className="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
      {/* Navigation Bar */}
      <div 
        className={`relative text-white transition-all duration-300 ${
          isScrolled ? 'bg-black bg-opacity-90 backdrop-blur-md' : 'bg-gradient-to-b from-black/70 to-transparent'
        }`}
        style={{
          paddingRight: 'clamp(1rem, 5vw, 4rem)',
          paddingLeft: 'clamp(1rem, 5vw, 4rem)'
        }}
      >
        <div className="flex justify-between items-center py-6 lg:py-8 relative max-w-[1600px] mx-auto">
          {/* Navigation Links - LEFT */}
          <nav className="hidden lg:block flex-1">
            <ul className="flex items-center gap-8 font-outfit">
              {navLinks.map((link) => (
                <li key={link.path}>
                  <a
                    href={link.path}
                    onClick={() => setActiveLink(link.path)}
                    className={`relative text-base font-medium transition-all duration-300 hover:text-[#C9C6BC] group ${
                      activeLink === link.path ? 'text-[#C9C6BC]' : 'text-white'
                    }`}
                  >
                    {link.label}
                    <span 
                      className={`absolute -bottom-1 left-0 h-0.5 bg-[#C9C6BC] transition-all duration-300 ${
                        activeLink === link.path ? 'w-full' : 'w-0 group-hover:w-full'
                      }`}
                    />
                  </a>
                </li>
              ))}
            </ul>
          </nav>

          {/* Logo - CENTER */}
          <div className="absolute left-1/2 transform -translate-x-1/2 transition-transform duration-300 hover:scale-105">
            <a href="/" className="block">
              <svg 
                className="w-[280px] h-auto lg:w-[370px] transition-all duration-300" 
                viewBox="0 0 1400 200" 
                fill="none" 
                xmlns="http://www.w3.org/2000/svg" 
                aria-label="Evergen AI Logo"
              >
                <path d="M1105.2 0.216044C1127.04 4.6309 1146.66 12.3175 1161.38 29.3185C1166.55 35.2822 1171.36 42.2257 1174.17 49.6003C1183.73 74.7095 1175.37 93.3351 1149.72 104.571C1142.62 107.683 1134.55 108.366 1127.09 110.732C1124.84 111.446 1121.51 114.065 1121.5 115.828C1121.44 125.407 1116.04 131.412 1108.8 134.89C1099.72 139.253 1089.98 142.377 1080.26 145.018C1075.72 146.253 1074.42 147.816 1073.24 152.597C1070.56 163.499 1066.94 174.287 1062.47 184.546C1058.9 192.734 1047.17 193.28 1042.01 185.477C1037.43 178.557 1032.39 178.126 1025.35 179.972C1007.39 184.683 993.692 177.439 984.922 160.129C983.254 156.838 979.599 153.547 976.198 152.453C962.505 148.051 953.982 138.501 953.02 124.362C950.318 84.6634 958.447 48.4321 989.59 21.4404C1003.29 9.56316 1019.6 2.18514 1037.24 0.942241C1059.57 -0.631745 1082.07 0.249414 1105.2 0.216044Z" fill="#7C745D"/>
                <path d="M455.228 107.009C463.268 120.307 471.013 133.045 478.956 146.108C472.526 148.746 469.231 146.395 466.202 141.213C456.905 125.307 447.065 109.741 437.686 93.8847C435.265 89.7913 432.7 87.7207 427.736 87.9543C417.962 88.4143 408.153 88.0897 397.585 88.0897C397.585 107.822 397.585 126.873 397.585 146.555C394.501 146.783 392.154 146.957 389.247 147.172C389.247 124.881 389.247 103.225 389.247 80.2634C400.559 80.2634 411.685 80.3488 422.81 80.233C430.115 80.1569 437.493 80.3954 444.704 79.4229C458.212 77.6011 466.263 67.2757 465.761 53.5455C465.273 40.1814 456.181 29.9623 442.747 29.3059C428.141 28.5922 413.482 29.0475 398.846 28.9976C395.78 28.9871 392.715 28.996 389.239 28.996C389.239 26.2731 389.239 24.1443 389.239 21.7186C408.25 21.7186 426.821 21.108 445.335 21.9059C461.013 22.5815 472.272 34.7218 474.182 50.8927C475.978 66.0947 467.368 80.6834 453.379 85.9807C450.753 86.9751 448.003 87.6195 444.18 88.7639C447.91 94.8981 451.422 100.674 455.228 107.009Z" fill="#C9C6BC"/>
                <path d="M889.545 146.912C872.793 117.41 856.687 88.0994 840.592 58.7832C838.093 54.2322 835.351 49.7929 833.226 45.0604C828.497 34.5308 823.35 24.9843 809.262 29.6928C807.504 24.2861 807.194 20.8595 813.518 21.2475C813.798 21.2648 814.089 21.2903 814.361 21.2393C825.694 19.1198 832.376 23.4473 838.002 34.4887C855.028 67.9061 873.458 100.56 892.606 135.841C892.606 96.5323 892.606 59.6988 892.606 21.9268C896.062 21.6985 898.619 21.5295 901.591 21.3332C901.591 63.6287 901.591 105.063 901.591 147.103C897.428 147.103 893.811 147.103 889.545 146.912Z" fill="#9D947A"/>
                <path d="M523.692 100.299C535.003 133.397 562.297 145.513 598.376 133.7C601.298 139.911 599.152 142.717 592.981 144.727C563.144 154.447 531.499 140.557 518.439 111.634C505.223 82.3654 514.675 47.4938 540.332 30.8582C567.756 13.0768 601.408 18.4328 621.976 44.154C620.333 45.9826 618.651 47.8547 616.401 50.3575C607.34 39.4462 596.49 32.1702 582.857 30.1171C545.147 24.4384 515.272 56.7778 522.565 95.3692C522.835 96.7955 523.144 98.2138 523.692 100.299Z" fill="#B5AE9D"/>
                <path d="M1243.54 110.663C1235.87 109.499 1231.87 112.258 1229.6 119.313C1227.12 127.009 1223.59 134.355 1220.34 141.769C1217.66 147.874 1217.54 147.819 1208.94 145.776C1214.38 132.599 1219.74 119.589 1225.12 106.582C1227.99 99.6292 1231 92.7345 1233.71 85.7175C1235.76 80.4199 1238.9 78.3916 1245.13 81.3835C1242.76 87.689 1240.38 93.9977 1237.63 101.297C1256.52 101.297 1274.34 101.297 1293.61 101.297C1282.75 75.0068 1272.03 49.0458 1261.1 22.5897C1266.6 20.1094 1269.94 20.0849 1272.38 26.0046C1288.35 64.7977 1304.54 103.493 1320.62 142.239C1321.14 143.486 1321.22 144.93 1321.51 146.358C1315.62 148.606 1312.27 147.05 1310.18 141.067C1307.5 133.427 1303.55 126.247 1301.05 118.557C1298.96 112.115 1295.33 110.372 1289.12 110.536C1274.2 110.931 1259.26 110.663 1243.54 110.663Z" fill="#7C745D"/>
                <path d="M57.723 138.708C68.1327 138.708 77.6973 138.708 87.904 138.708C87.904 141.539 87.904 144.173 87.904 147.022C58.6084 147.022 29.6829 147.022 0.422363 147.022C0.422363 124.777 0.422363 102.791 0.422363 80.4747C29.5452 80.4747 58.19 80.4747 87.7206 80.4747C88.0085 82.5448 88.335 84.8921 88.7558 87.9179C61.9456 87.9179 35.8846 87.9179 9.25615 87.9179C9.25615 104.867 9.25615 121.257 9.25615 138.708C25.0188 138.708 40.9483 138.708 57.723 138.708Z" fill="#E4E3E0"/>
                <path d="M684.932 110.827C684.932 120.358 684.932 129.02 684.932 138.626C711.821 138.626 737.881 138.626 763.941 138.626C764.521 139.476 765.101 140.326 765.681 141.176C763.806 143.209 761.955 146.986 760.055 147.012C732.469 147.395 704.876 147.275 676.593 147.275C676.593 124.818 676.593 102.93 676.593 80.0362C687.338 80.0362 697.692 80.0357 708.046 80.0363C724.672 80.0371 741.3 80.1549 757.924 79.9726C763.254 79.9141 766.073 81.2604 763.94 87.9826C738.086 87.9826 712.236 87.9826 684.933 87.9826C684.933 95.7179 684.933 102.837 684.932 110.827Z" fill="#A59E88"/>
                <path d="M287.717 147.291C277.636 147.291 268.4 147.291 258.677 147.291C258.677 124.831 258.677 103.135 258.677 80.7731C287.738 80.7731 316.594 80.7731 346.319 80.7731C346.525 82.7601 346.764 85.0726 347.084 88.1737C320.266 88.1737 294.178 88.1737 267.632 88.1737C267.632 105.054 267.632 121.234 267.632 138.441C293.74 138.441 320.037 138.441 346.652 138.441C346.652 141.69 346.652 143.918 346.652 147.291C327.241 147.291 307.902 147.291 287.717 147.291Z" fill="#C9C6BC"/>
                <path d="M143.962 95.4312C133.737 70.6756 123.702 46.558 113.539 22.131C119.182 20.8312 122.814 20.8938 125.324 27.0751C141.035 65.7728 157.153 104.295 173.127 142.879C173.552 143.906 173.879 144.976 174.339 146.27C168.314 148.53 165.01 147.019 162.618 140.786C156.838 125.727 150.353 110.956 143.962 95.4312Z" fill="#E4E3E0"/>
                <path d="M618.752 109.076C618.752 101.848 618.752 95.4901 618.752 88.3278C601.889 88.3278 585.685 88.3278 569.006 88.3278C569.006 85.3776 569.006 83.2302 569.006 80.7223C588.413 80.7223 607.663 80.7223 627.103 80.7223C627.103 102.99 627.103 124.656 627.103 146.775C624.275 146.775 621.888 146.775 618.751 146.775C618.751 134.261 618.751 122.104 618.752 109.076Z" fill="#B5AE9D"/>
                <path d="M1368.43 82.8652C1368.43 64.5606 1368.26 47.1257 1368.61 29.7019C1368.66 27.0259 1371.08 24.4002 1372.4 21.7513C1373.88 24.2569 1376.62 26.7523 1376.64 29.2695C1376.92 66.1633 1376.91 103.061 1376.66 139.955C1376.64 142.318 1374.15 144.664 1372.81 147.018C1371.35 144.518 1368.67 142.044 1368.62 139.515C1368.26 120.929 1368.43 102.332 1368.43 82.8652Z" fill="#7C745D"/>
                <path d="M816.939 124.76C816.937 130.575 816.679 135.539 817 140.463C817.402 146.623 814.8 148.259 808.757 146.582C808.757 122.447 808.757 98.2429 808.757 73.7435C811.42 73.7435 813.783 73.7435 816.939 73.7435C816.939 90.849 816.939 107.371 816.939 124.76Z" fill="#9D947A"/>
                <path d="M220.705 36.7219C214.331 51.9059 207.913 66.3608 202.351 81.1589C199.905 87.6667 196.575 89.6122 190.17 87.2468C198.691 66.7631 206.971 46.2353 215.932 26.0295C217.183 23.2092 221.78 21.9724 224.829 20.0026C225.417 20.6945 226.005 21.3864 226.593 22.0783C224.731 26.7629 222.87 31.4476 220.705 36.7219Z" fill="#E4E3E0"/>
                <path d="M718.945 21.3688C732.728 21.3711 745.669 21.2097 758.598 21.5447C760.642 21.5977 762.63 23.892 764.644 25.15C762.677 26.4557 760.72 28.8783 758.741 28.8979C733.15 29.1518 707.554 29.1533 681.964 28.8807C680.051 28.8603 678.164 26.2611 676.265 24.8607C678.116 23.7018 679.944 21.5875 681.822 21.5395C693.908 21.2307 706.005 21.374 718.945 21.3688Z" fill="#A59E88"/>
                <path d="M301.243 29.0924C288.33 29.0908 276.26 28.9387 264.196 29.1562C258.804 29.2534 257.065 27.3491 259.28 21.362C286.993 21.362 314.72 21.2657 342.442 21.5806C344.273 21.6014 346.071 24.7575 347.884 26.4553C347.401 27.3343 346.917 28.2133 346.433 29.0924C331.652 29.0924 316.87 29.0924 301.243 29.0924Z" fill="#C9C6BC"/>
                <path d="M7.15687 29.0772C1.48558 29.651 -1.48241 28.4029 0.74041 21.3671C6.11231 21.3671 11.9048 21.367 17.6973 21.3671C39.3285 21.3676 60.9607 21.4847 82.5902 21.2856C87.9127 21.2366 89.8197 22.9172 87.6326 29.0774C61.208 29.0774 34.5951 29.0774 7.15687 29.0772Z" fill="#E4E3E0"/>
              </svg>
            </a>
          </div>

          {/* Mobile Menu Button */}
          <button
            onClick={toggleMenu}
            aria-label={isMenuOpen ? "Close menu" : "Open menu"}
            className="lg:hidden absolute left-0 p-2 text-white hover:text-[#C9C6BC] transition-colors duration-300"
          >
            <svg 
              width="28" 
              height="28" 
              xmlns="http://www.w3.org/2000/svg" 
              viewBox="0 0 24 24" 
              className="transition-transform duration-300"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
            >
              {isMenuOpen ? (
                <>
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
                </>
              ) : (
                <>
                  <line x1="3" y1="7" x2="21" y2="7" />
                  <line x1="3" y1="12" x2="21" y2="12" />
                  <line x1="3" y1="17" x2="21" y2="17" />
                </>
              )}
            </svg>
          </button>

          {/* Social Icons + Button - RIGHT */}
          <div className="flex items-center gap-6 flex-1 justify-end">
            <div className="hidden lg:flex items-center gap-5">
              {/* Instagram */}
              <a
                href="https://www.instagram.com/evergenai/?utm_source=ig_web_button_share_sheet"
                target="_blank"
                rel="noopener noreferrer"
                className="text-white hover:text-[#C9C6BC] transition-all duration-300 transform hover:scale-110 hover:-translate-y-1"
                aria-label="Instagram"
              >
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12,4.622c2.403,0,2.688,0.009,3.637,0.052c0.877,0.04,1.354,0.187,1.671,0.31c0.42,0.163,0.72,0.358,1.035,0.673 c0.315,0.315,0.51,0.615,0.673,1.035c0.123,0.317,0.27,0.794,0.31,1.671c0.043,0.949,0.052,1.234,0.052,3.637 s-0.009,2.688-0.052,3.637c-0.04,0.877-0.187,1.354-0.31,1.671c-0.163,0.42-0.358,0.72-0.673,1.035 c-0.315,0.315-0.615,0.51-1.035,0.673c-0.317,0.123-0.794,0.27-1.671,0.31c-0.949,0.043-1.233,0.052-3.637,0.052 s-2.688-0.009-3.637-0.052c-0.877-0.04-1.354-0.187-1.671-0.31c-0.42-0.163-0.72-0.358-1.035-0.673 c-0.315-0.315-0.51-0.615-0.673-1.035c-0.123-0.317-0.27-0.794-0.31-1.671C4.631,14.688,4.622,14.403,4.622,12 s0.009-2.688,0.052-3.637c0.04-0.877,0.187-1.354,0.31-1.671c0.163-0.42,0.358-0.72,0.673-1.035 c0.315-0.315,0.615-0.51,1.035-0.673c0.317-0.123,0.794-0.27,1.671-0.31C9.312,4.631,9.597,4.622,12,4.622 M12,3 C9.556,3,9.249,3.01,8.289,3.054C7.331,3.098,6.677,3.25,6.105,3.472C5.513,3.702,5.011,4.01,4.511,4.511 c-0.5,0.5-0.808,1.002-1.038,1.594C3.25,6.677,3.098,7.331,3.054,8.289C3.01,9.249,3,9.556,3,12c0,2.444,0.01,2.751,0.054,3.711 c0.044,0.958,0.196,1.612,0.418,2.185c0.23,0.592,0.538,1.094,1.038,1.594c0.5,0.5,1.002,0.808,1.594,1.038 c0.572,0.222,1.227,0.375,2.185,0.418C9.249,20.99,9.556,21,12,21s2.751-0.01,3.711-0.054c0.958-0.044,1.612-0.196,2.185-0.418 c0.592-0.23,1.094-0.538,1.594-1.038c0.5-0.5,0.808-1.002,1.038-1.594c0.222-0.572,0.375-1.227,0.418-2.185 C20.99,14.751,21,14.444,21,12s-0.01-2.751-0.054-3.711c-0.044-0.958-0.196-1.612-0.418-2.185c-0.23-0.592-0.538-1.094-1.038-1.594 c-0.5-0.5-1.002-0.808-1.594-1.038c-0.572-0.222-1.227-0.375-2.185-0.418C14.751,3.01,14.444,3,12,3L12,3z M12,7.378 c-2.552,0-4.622,2.069-4.622,4.622S9.448,16.622,12,16.622s4.622-2.069,4.622-4.622S14.552,7.378,12,7.378z M12,15 c-1.657,0-3-1.343-3-3s1.343-3,3-3s3,1.343,3,3S13.657,15,12,15z M16.804,6.116c-0.596,0-1.08,0.484-1.08,1.08 s0.484,1.08,1.08,1.08c0.596,0,1.08-0.484,1.08-1.08S17.401,6.116,16.804,6.116z"></path>
                </svg>
              </a>
              
              {/* LinkedIn */}
              <a
                href="https://www.linkedin.com/company/evergen-ai/about/"
                target="_blank"
                rel="noopener noreferrer"
                className="text-white hover:text-[#C9C6BC] transition-all duration-300 transform hover:scale-110 hover:-translate-y-1"
                aria-label="LinkedIn"
              >
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path>
                </svg>
              </a>
              
              {/* Facebook */}
              <a
                href="https://www.facebook.com/share/15gfxvK2sT/"
                target="_blank"
                rel="noopener noreferrer"
                className="text-white hover:text-[#C9C6BC] transition-all duration-300 transform hover:scale-110 hover:-translate-y-1"
                aria-label="Facebook"
              >
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path>
                </svg>
              </a>
            </div>
            
            {/* GET IN TOUCH Button */}
            <Link
              to="/contact"
              className="hidden lg:inline-block bg-custom-8 hover:bg-custom-7 text-white px-6 py-3 rounded-md uppercase text-sm font-outfit transition-colors"
            >
              GET IN TOUCH
            </Link>
          </div>
        </div>

        {/* Mobile Menu Overlay */}
        {isMenuOpen && (
          <div
            className="fixed inset-0 bg-black bg-opacity-75 z-50 lg:hidden"
            onClick={closeMenu}
            aria-modal="true"
            aria-label="Menu"
          >
            <div className="relative h-full">
              <button
                onClick={closeMenu}
                aria-label="Close menu"
                className="absolute top-8 right-8 text-white"
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">
                  <path fill="currentColor" d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path>
                </svg>
              </button>
              <div className="flex flex-col items-center justify-center h-full gap-6">
                <Link
                  to="/"
                  onClick={closeMenu}
                  className={`text-white text-xl font-outfit ${location.pathname === '/' ? 'text-custom-2' : ''}`}
                >
                  Home
                </Link>
                <Link
                  to="/about"
                  onClick={closeMenu}
                  className={`text-white text-xl font-outfit ${location.pathname === '/about' ? 'text-custom-2' : ''}`}
                >
                  About
                </Link>
                <Link
                  to="/services"
                  onClick={closeMenu}
                  className={`text-white text-xl font-outfit ${location.pathname === '/services' ? 'text-custom-2' : ''}`}
                >
                  Services
                </Link>
                <Link
                  to="/faq"
                  onClick={closeMenu}
                  className={`text-white text-xl font-outfit ${location.pathname === '/faq' ? 'text-custom-2' : ''}`}
                >
                  FAQs
                </Link>
              </div>
            </div>
          </div>
        )}
      </div>
    </header>
  );
};

export default Header;

